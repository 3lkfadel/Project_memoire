:root{
  --violet:#5b5bd6; --blue:#6a8bff; --bg:#f5f7fb; --panel:#ffffff;
  --ink:#0f1320; --muted:#6b7280;
  --shadow:0 10px 28px rgba(0,0,0,.18); --radius:24px;
}
*{box-sizing:border-box} html,body{height:100%}
body.app{margin:0;background:var(--bg);color:var(--ink);font:14px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial}

/* Topbar */
.topbar{display:flex;align-items:center;justify-content:space-between;padding:14px 20px;background:#fff;box-shadow:var(--shadow);position:sticky;top:0;z-index:10}
.brand{display:flex;gap:10px;align-items:center;font-weight:800}
.brand img{width:28px;height:28px}
.tabs a{margin:0 8px;padding:8px 12px;border-radius:10px;color:#222;text-decoration:none}
.tabs a.active{background:#eef2ff;color:#3b82f6;font-weight:700}

/* Layout */
.grid{display:grid;grid-template-columns: 40% 60%; gap:20px; padding:20px; align-items:start}
.hero-card{background:linear-gradient(140deg,var(--violet),var(--blue)); color:#fff; border-radius:var(--radius); padding:20px; box-shadow:var(--shadow)}
.hero-head{display:flex;align-items:flex-start;gap:10px;justify-content:space-between;margin-bottom:10px}
.hero-head h1{margin:0;font-size:22px}
.hero-sub{opacity:.9;font-size:13px}
.badge{padding:4px 10px;border-radius:999px;font-weight:800}
.badge.on{background:rgba(34,197,94,.2); color:#16a34a}
.badge.off{background:rgba(148,163,184,.3); color:#111827}
.kpis{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0 16px}
.chip{background:rgba(255,255,255,.18); border:1px solid rgba(255,255,255,.25); padding:6px 10px;border-radius:12px}

.panel{background:var(--panel); border-radius:var(--radius); padding:18px; box-shadow:var(--shadow); min-height:420px}
.panel-head{display:flex;justify-content:flex-end;margin-bottom:12px}
.actions{display:flex;gap:10px;flex-wrap:wrap}
.h2{margin:0 0 10px 0;font-size:18px}

/* Table peers */
.table{width:100%}
.row{display:grid;grid-template-columns: 1.8fr .9fr 1.2fr .8fr .7fr .7fr .7fr .9fr; gap:10px; padding:10px 6px; border-bottom:1px solid #eef1f6; align-items:center}
.row.head{font-weight:700;background:#f9fafb;border-radius:12px}
.row-actions{display:flex;gap:8px;align-items:center}
.mono{font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace}
.keycell{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

/* Forms */
.form{max-width:520px;display:grid;gap:10px}
.form input{border:1px solid #e5e7eb;border-radius:10px;padding:10px 12px;font-size:14px}
.card{background:#fff;border:1px solid #eef1f6;border-radius:16px;padding:14px}
.card.danger{border-color:#fde2e2;background:#fff7f7}

/* Buttons & flashes */
.btn{display:inline-block;border:0;border-radius:999px;padding:10px 14px;cursor:pointer;text-decoration:none}
.btn.primary{background:#3b82f6;color:#fff}
.btn.ghost{background:#eef2ff;color:#334155}
.btn.danger{background:#ef4444;color:#fff}
.btn.ring{box-shadow:0 0 0 8px rgba(59,130,246,.12)}
.hint{color:var(--muted)}
.flash > div{padding:10px;border-radius:10px;margin-bottom:8px}
.flash-success{background:#ecfdf5;color:#065f46}
.flash-error{background:#fef2f2;color:#991b1b}

/* Raw panel */
.panel-raw{background:#0f172a;color:#e2e8f0;padding:12px;border-radius:12px;overflow:auto;max-height:60vh}

/* Responsive */
@media (max-width: 1024px){
  .grid{grid-template-columns: 1fr}
}
/* hero card bigger + clean summary */
.grid-2 { display:grid; grid-template-columns: 1.35fr 1fr; gap: 18px; }
.hero {
  background: radial-gradient(120% 120% at 0% 0%, #6e7cff 0%, #6a5cff 40%, #5b47f7 70%, #4a3fe6 100%);
  border-radius: 24px;
  padding: 18px 18px 22px;
  color: #fff;
  box-shadow: 0 10px 24px rgba(38,25,135,.25);
}
.hero-head { display:flex; align-items:center; justify-content:space-between; }
.muted { opacity:.9; margin:.1rem 0 0; }
.badge { padding:6px 10px; border-radius:999px; font-weight:600; font-size:.8rem; }
.badge.on { background:rgba(46, 213, 115,.2); color:#c8ffd8; }
.badge.off{ background:rgba(255, 71, 87,.2); color:#ffe0e0; }

.chips { display:flex; gap:8px; margin:10px 0 14px; flex-wrap:wrap; }
.chip { background:rgba(255,255,255,.15); backdrop-filter: blur(6px);
  border:1px solid rgba(255,255,255,.2); color:#fff; padding:6px 10px; border-radius:999px; }

.chart-xl { width:100%; height:320px; }

.summary {
  background: #ffffff;
  border:1px solid #edf0f6;
  border-radius: 18px;
  padding: 16px;
  box-shadow: 0 8px 18px rgba(12,20,52,.06);
}
.summary-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.actions .btn.ghost{ margin-left:8px; }

.kpis{ display:grid; grid-template-columns: 1fr 1fr; gap:12px; margin-top:6px; }
.kpi{ background:#f8faff; border:1px solid #edf0f6; border-radius:12px; padding:10px 12px; }
.kpi-label{ font-size:.75rem; color:#667; }
.kpi-value{ font-weight:700; margin-top:2px; }
.mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; word-break: break-all; }

.hint{ color:#6b7280; font-size:.85rem; margin-top:10px; }
/* --- Audit Log --- */
.card.audit { padding: 18px; }
.audit-head { display:flex; align-items:center; justify-content:space-between; margin-bottom:12px; }
.audit-toolbar {
  display:flex; align-items:center; gap:12px; flex-wrap:wrap; margin-bottom:12px;
}
.pill-group { display:flex; gap:8px; }
.pill {
  border:none; padding:8px 12px; border-radius:999px; background:var(--panel);
  color:var(--text); cursor:pointer; box-shadow: var(--soft-shadow);
}
.pill.is-active { background:var(--brand); color:white; }

.input.icon-left { position:relative; }
.input.icon-left .icon {
  position:absolute; left:10px; top:50%; transform:translateY(-50%);
  width:18px; height:18px; stroke:currentColor; fill:none; stroke-width:2;
  opacity:.6;
}
.input.icon-left input { padding-left:34px; min-width:320px; }

.audit-table-wrap { overflow:auto; border-radius:16px; background:var(--panel); }
.audit-table { width:100%; border-collapse:separate; border-spacing:0; font-size:.92rem; }
.audit-table thead th { text-align:left; padding:10px 12px; background:transparent; position:sticky; top:0; }
.audit-table tbody td { padding:10px 12px; border-top:1px solid rgba(255,255,255,.06); vertical-align:top; }
.audit-foot { display:flex; justify-content:space-between; align-items:center; padding:10px 2px 0; }

.badge.ok    { background:#16a34a22; color:#22c55e; }
.badge.info  { background:#3b82f622; color:#60a5fa; }
.badge.warn  { background:#f59e0b22; color:#fbbf24; }
.badge.error { background:#ef444422; color:#f87171; }

.tag { padding:2px 8px; border-radius:999px; font-size:.78rem; background:rgba(255,255,255,.06); }
.tag.systemd { color:#93c5fd; }
.tag.wg      { color:#a5b4fc; }
.tag.kernel  { color:#fca5a5; }

.pager { display:flex; align-items:center; gap:8px; }
.badge.ok{ background:#10b98122; color:#10b981; }
.badge.info{ background:#3b82f622; color:#3b82f6; }
.badge.warn{ background:#f59e0b22; color:#f59e0b; }
.badge.error{ background:#ef444422; color:#ef4444; }
table.audit{ width:100%; border-collapse:collapse; font-size:.92rem }
table.audit th, table.audit td{ padding:.5rem .6rem; border-bottom:1px solid #e6e6f0; vertical-align:top }
table.audit td.mono{ font-family: ui-monospace,SFMono-Regular,Menlo,monospace }
table.audit tr.sev-error{ background:rgba(239,68,68,.04) }
table.audit tr.sev-warn{  background:rgba(245,158,11,.04) }
table.audit td.wrap{ white-space:normal; word-break:break-word }
